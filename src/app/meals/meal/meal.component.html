@if (meal$ | async; as meal) {
	<form [formGroup]="form" (submit)="onSubmit()">
		<div class="flex justify-space-between align-center">
			<h2>Meal {{ idControl.value }}</h2>
			<div>
				<button mat-stroked-button type="submit">
					<span>Save</span>
					<mat-icon>save</mat-icon>
				</button>
				&nbsp;

				@if (meal.id) {
					<button mat-stroked-button (click)="onDelete(meal.id)">
						<span>Delete</span>
						<mat-icon>delete</mat-icon>
					</button>
					&nbsp;
				}

				<button mat-stroked-button type="button" routerLink="/meals">
					<span>Cancel</span>
					<mat-icon>close</mat-icon>
				</button>
			</div>
		</div>

		<mat-form-field>
			<mat-label>Name</mat-label>
			<input matInput [formControl]="nameControl">
		</mat-form-field>
	</form>

	@if (meal.id) {
		<app-meal-ingredients [mealId]="meal.id" [ingredients]="meal.ingredients"></app-meal-ingredients>
	}
}
